{
    "sourceFile": "routers/routers.go",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 9,
            "patches": [
                {
                    "date": 1691486094031,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1691486106035,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n package routers\r\n \r\n import (\r\n-\t\"github.com/Coreychen4444/Douyin/handler\"\r\n+\t\"github.com/Coreychen4444/User/handler\"\r\n \t\"github.com/Coreychen4444/Douyin/repository\"\r\n \t\"github.com/Coreychen4444/Douyin/service\"\r\n \t\"github.com/gin-gonic/gin\"\r\n \t\"gorm.io/gorm\"\r\n"
                },
                {
                    "date": 1691486116009,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,9 +2,9 @@\n \r\n import (\r\n \t\"github.com/Coreychen4444/User/handler\"\r\n \t\"github.com/Coreychen4444/Douyin/repository\"\r\n-\t\"github.com/Coreychen4444/Douyin/service\"\r\n+\t\"github.com/Coreychen4444/User/service\"\r\n \t\"github.com/gin-gonic/gin\"\r\n \t\"gorm.io/gorm\"\r\n )\r\n \r\n"
                },
                {
                    "date": 1691486125531,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n package routers\r\n \r\n import (\r\n-\t\"github.com/Coreychen4444/User/handler\"\r\n+\t\"github.com/Coreychen4444/Users/handler\"\r\n \t\"github.com/Coreychen4444/Douyin/repository\"\r\n \t\"github.com/Coreychen4444/User/service\"\r\n \t\"github.com/gin-gonic/gin\"\r\n \t\"gorm.io/gorm\"\r\n"
                },
                {
                    "date": 1691486138383,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,34 @@\n+package routers\r\n+\r\n+import (\r\n+\t\"github.com/Coreychen4444/Users/handler\"\r\n+\t\"github.com/Coreychen4444/Users/repository\"\r\n+\t\"github.com/Coreychen4444/Users/service\"\r\n+\t\"github.com/gin-gonic/gin\"\r\n+\t\"gorm.io/gorm\"\r\n+)\r\n+\r\n+// InitRouter 初始化路由信息\r\n+func InitRouter(db *gorm.DB) *gin.Engine {\r\n+\trouter := gin.Default()\r\n+\trepo := repository.NewDbRepository(db)\r\n+\tuserService := service.NewUserService(repo)\r\n+\tvideoService := service.NewVideoService(repo)\r\n+\r\n+\tuserHandler := handler.NewUserHandler(userService)\r\n+\tvideoHandler := handler.NewVideoHandler(videoService)\r\n+\r\n+\tuserGroup := router.Group(\"/douyin/user\")\r\n+\t{\r\n+\t\tuserGroup.POST(\"/register\", userHandler.Register)\r\n+\t\tuserGroup.POST(\"/login\", userHandler.Login)\r\n+\t\tuserGroup.GET(\"/\", userHandler.GetUserInfo)\r\n+\t}\r\n+\r\n+\tvideoGroup := router.Group(\"/douyin/video\")\r\n+\t{\r\n+\t\tvideoGroup.POST(\"/publish\", videoHandler.PublishVideo)\r\n+\t}\r\n+\r\n+\treturn router\r\n+}\r\n"
                },
                {
                    "date": 1691501018195,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,42 @@\n+package routers\r\n+\r\n+import (\r\n+\t\"github.com/Coreychen4444/Users/handler\"\r\n+\t\"github.com/Coreychen4444/Users/repository\"\r\n+\t\"github.com/Coreychen4444/Users/service\"\r\n+\t\"github.com/gin-gonic/gin\"\r\n+\t\"gorm.io/gorm\"\r\n+)\r\n+\r\n+// InitRouter 初始化路由信息\r\n+func InitRouter(db *gorm.DB) *gin.Engine {\r\n+\trouter := gin.Default()\r\n+\trepo := repository.NewDbRepository(db)\r\n+\tuserService := service.NewUserService(repo)\r\n+\tvideoService := service.NewVideoService(repo)\r\n+\r\n+\tuserHandler := handler.NewUserHandler(userService)\r\n+\tvideoHandler := handler.NewVideoHandler(videoService)\r\n+\r\n+\tuserGroup := router.Group(\"/douyin/user\")\r\n+\t{\r\n+\t\tuserGroup.POST(\"/register\", userHandler.Register)\r\n+\t\tuserGroup.POST(\"/login\", userHandler.Login)\r\n+\t\tuserGroup.GET(\"/\", userHandler.GetUserInfo)\r\n+\t}\r\n+\r\n+\tvideoGroup := router.Group(\"/douyin/video\")\r\n+\t{\r\n+\t\tvideoGroup.POST(\"/publish\", videoHandler.PublishVideo)\r\n+\t}\r\n+\tvideoHandler := handler.NewVideoHandler()\r\n+\r\n+video := r.Group(\"/douyin/video\")\r\n+{\r\n+\tvideo.POST(\"/receive-title\", videoHandler.ReceiveTitle)\r\n+\t// 其他视频相关的路由...\r\n+}\r\n+\r\n+\r\n+\treturn router\r\n+}\r\n"
                },
                {
                    "date": 1691501055997,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,83 +28,8 @@\n \tvideoGroup := router.Group(\"/douyin/video\")\r\n \t{\r\n \t\tvideoGroup.POST(\"/publish\", videoHandler.PublishVideo)\r\n \t}\r\n-\tvideoHandler := handler.NewVideoHandler()\r\n+\t\r\n \r\n-video := r.Group(\"/douyin/video\")\r\n-{\r\n-\tvideo.POST(\"/receive-title\", videoHandler.ReceiveTitle)\r\n-\t// 其他视频相关的路由...\r\n-}\r\n-\r\n-\r\n \treturn router\r\n }\r\n-package routers\r\n-\r\n-import (\r\n-\t\"github.com/Coreychen4444/Users/handler\"\r\n-\t\"github.com/Coreychen4444/Users/repository\"\r\n-\t\"github.com/Coreychen4444/Users/service\"\r\n-\t\"github.com/gin-gonic/gin\"\r\n-\t\"gorm.io/gorm\"\r\n-)\r\n-\r\n-// InitRouter 初始化路由信息\r\n-func InitRouter(db *gorm.DB) *gin.Engine {\r\n-\trouter := gin.Default()\r\n-\trepo := repository.NewDbRepository(db)\r\n-\tuserService := service.NewUserService(repo)\r\n-\tvideoService := service.NewVideoService(repo)\r\n-\r\n-\tuserHandler := handler.NewUserHandler(userService)\r\n-\tvideoHandler := handler.NewVideoHandler(videoService)\r\n-\r\n-\tuserGroup := router.Group(\"/douyin/user\")\r\n-\t{\r\n-\t\tuserGroup.POST(\"/register\", userHandler.Register)\r\n-\t\tuserGroup.POST(\"/login\", userHandler.Login)\r\n-\t\tuserGroup.GET(\"/\", userHandler.GetUserInfo)\r\n-\t}\r\n-\r\n-\tvideoGroup := router.Group(\"/douyin/video\")\r\n-\t{\r\n-\t\tvideoGroup.POST(\"/publish\", videoHandler.PublishVideo)\r\n-\t}\r\n-\r\n-\treturn router\r\n-}\r\n-package routers\r\n-\r\n-import (\r\n-\t\"github.com/Coreychen4444/Users/handler\"\r\n-\t\"github.com/Coreychen4444/Douyin/repository\"\r\n-\t\"github.com/Coreychen4444/User/service\"\r\n-\t\"github.com/gin-gonic/gin\"\r\n-\t\"gorm.io/gorm\"\r\n-)\r\n-\r\n-// InitRouter 初始化路由信息\r\n-func InitRouter(db *gorm.DB) *gin.Engine {\r\n-\trouter := gin.Default()\r\n-\trepo := repository.NewDbRepository(db)\r\n-\tuserService := service.NewUserService(repo)\r\n-\tvideoService := service.NewVideoService(repo)\r\n-\r\n-\tuserHandler := handler.NewUserHandler(userService)\r\n-\tvideoHandler := handler.NewVideoHandler(videoService)\r\n-\r\n-\tuserGroup := router.Group(\"/douyin/user\")\r\n-\t{\r\n-\t\tuserGroup.POST(\"/register\", userHandler.Register)\r\n-\t\tuserGroup.POST(\"/login\", userHandler.Login)\r\n-\t\tuserGroup.GET(\"/\", userHandler.GetUserInfo)\r\n-\t}\r\n-\r\n-\tvideoGroup := router.Group(\"/douyin/video\")\r\n-\t{\r\n-\t\tvideoGroup.POST(\"/publish\", videoHandler.PublishVideo)\r\n-\t}\r\n-\r\n-\treturn router\r\n-}\r\n"
                },
                {
                    "date": 1691503362822,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,8 +28,7 @@\n \tvideoGroup := router.Group(\"/douyin/video\")\r\n \t{\r\n \t\tvideoGroup.POST(\"/publish\", videoHandler.PublishVideo)\r\n \t}\r\n-\t\r\n \r\n \treturn router\r\n }\r\n"
                },
                {
                    "date": 1691504145346,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,26 +9,40 @@\n )\r\n \r\n // InitRouter 初始化路由信息\r\n func InitRouter(db *gorm.DB) *gin.Engine {\r\n-\trouter := gin.Default()\r\n-\trepo := repository.NewDbRepository(db)\r\n-\tuserService := service.NewUserService(repo)\r\n-\tvideoService := service.NewVideoService(repo)\r\n+// 创建一个默认的gin引擎\r\n \r\n-\tuserHandler := handler.NewUserHandler(userService)\r\n-\tvideoHandler := handler.NewVideoHandler(videoService)\r\n+}\r\n+router := gin.Default()\r\n \r\n-\tuserGroup := router.Group(\"/douyin/user\")\r\n-\t{\r\n-\t\tuserGroup.POST(\"/register\", userHandler.Register)\r\n-\t\tuserGroup.POST(\"/login\", userHandler.Login)\r\n-\t\tuserGroup.GET(\"/\", userHandler.GetUserInfo)\r\n-\t}\r\n+// 创建数据库仓库\r\n+repo := repository.NewDbRepository(db)\r\n \r\n-\tvideoGroup := router.Group(\"/douyin/video\")\r\n-\t{\r\n-\t\tvideoGroup.POST(\"/publish\", videoHandler.PublishVideo)\r\n-\t}\r\n+// 创建用户服务\r\n+userService := service.NewUserService(repo)\r\n \r\n-\treturn router\r\n+// 创建视频服务\r\n+videoService := service.NewVideoService(repo)\r\n+\r\n+// 创建用户处理器\r\n+userHandler := handler.NewUserHandler(userService)\r\n+\r\n+// 创建视频处理器\r\n+videoHandler := handler.NewVideoHandler(videoService)\r\n+\r\n+// 创建用户组路由\r\n+userGroup := router.Group(\"/douyin/user\")\r\n+{\r\n+    userGroup.POST(\"/register\", userHandler.Register) // 注册\r\n+    userGroup.POST(\"/login\", userHandler.Login) // 登录\r\n+    userGroup.GET(\"/\", userHandler.GetUserInfo) // 获取用户信息\r\n }\r\n+\r\n+// 创建视频组路由\r\n+videoGroup := router.Group(\"/douyin/video\")\r\n+{\r\n+    videoGroup.POST(\"/publish\", videoHandler.PublishVideo) // 发布视频\r\n+}\r\n+\r\n+// 返回路由\r\n+return router\n\\ No newline at end of file\n"
                },
                {
                    "date": 1691504153689,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,8 @@\n // InitRouter 初始化路由信息\r\n func InitRouter(db *gorm.DB) *gin.Engine {\r\n // 创建一个默认的gin引擎\r\n \r\n-}\r\n router := gin.Default()\r\n \r\n // 创建数据库仓库\r\n repo := repository.NewDbRepository(db)\r\n@@ -40,9 +39,10 @@\n \r\n // 创建视频组路由\r\n videoGroup := router.Group(\"/douyin/video\")\r\n {\r\n-    videoGroup.POST(\"/publish\", videoHandler.PublishVideo) // 发布视频\r\n+\tvideoGroup.POST(\"/publish\", videoHandler.PublishVideo) // 发布视频\r\n }\r\n \r\n // 返回路由\r\n\\ No newline at end of file\n-return router\n+return router\r\n+}\n\\ No newline at end of file\n"
                }
            ],
            "date": 1691486094031,
            "name": "Commit-0",
            "content": "package routers\r\n\r\nimport (\r\n\t\"github.com/Coreychen4444/Douyin/handler\"\r\n\t\"github.com/Coreychen4444/Douyin/repository\"\r\n\t\"github.com/Coreychen4444/Douyin/service\"\r\n\t\"github.com/gin-gonic/gin\"\r\n\t\"gorm.io/gorm\"\r\n)\r\n\r\n// InitRouter 初始化路由信息\r\nfunc InitRouter(db *gorm.DB) *gin.Engine {\r\n\trouter := gin.Default()\r\n\trepo := repository.NewDbRepository(db)\r\n\tuserService := service.NewUserService(repo)\r\n\tvideoService := service.NewVideoService(repo)\r\n\r\n\tuserHandler := handler.NewUserHandler(userService)\r\n\tvideoHandler := handler.NewVideoHandler(videoService)\r\n\r\n\tuserGroup := router.Group(\"/douyin/user\")\r\n\t{\r\n\t\tuserGroup.POST(\"/register\", userHandler.Register)\r\n\t\tuserGroup.POST(\"/login\", userHandler.Login)\r\n\t\tuserGroup.GET(\"/\", userHandler.GetUserInfo)\r\n\t}\r\n\r\n\tvideoGroup := router.Group(\"/douyin/video\")\r\n\t{\r\n\t\tvideoGroup.POST(\"/publish\", videoHandler.PublishVideo)\r\n\t}\r\n\r\n\treturn router\r\n}\r\n"
        }
    ]
}